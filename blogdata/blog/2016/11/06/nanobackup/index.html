  <!DOCTYPE html>
  <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
  <meta charset="UTF-8">

  <meta name="author" content="Andreas Voit" />
  <meta name="generator" content="lazyblorg" />
  <meta name="description" content="Altes Android System auf neuem Nexus 5 wiederherstellen" />
  <meta name="orgmode-id" content="2016-11-06-nanobackup" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@di0v0n" />
  <meta name="twitter:creator" content="@di0v0n" />
  <meta name="twitter:title" content="Blog von Andreas Voit" />
  <meta name="twitter:description" content="Altes Android System auf neuem Nexus 5 wiederherstellen" />
  <meta name="twitter:image" content="http://andreas-voit.at/images/blog-voit_T_logo_200x200.png" />

  <meta property="og:type" content="article" />
  <meta property="og:title" content="Blog von Andreas Voit" />
  <meta property="og:description" content="Altes Android System auf neuem Nexus 5 wiederherstellen" />
  <meta property="og:image" content="http://andreas-voit.at/images/blog-voit_T_logo_200x200.png" />
  <meta property="og:site_name" content="Blog von Andreas Voit - Web-page of Andreas Voit">
  <meta property="article:published_time" content="2016-11-06T16:30+01:00" />
  <meta property="article:author" content="Andreas Voit" />

  <link rel="stylesheet" title="Blog von Andreas Voit Standard CSS Style"
        href="//Andreas-Voit.at/public_voit.css" type="text/css" media="screen"  />

  <link rel="alternate" type="application/atom+xml"
        title="Blog von Andreas Voit (links only)" href="//Andreas-Voit.at/feeds/lazyblorg-all.atom_1.0.links-only.xml" />
  <link rel="alternate" type="application/atom+xml"
        title="Blog von Andreas Voit (article teasers)" href="//Andreas-Voit.at/feeds/lazyblorg-all.atom_1.0.links-and-teaser.xml" />
  <link rel="alternate" type="application/atom+xml"
        title="Blog von Andreas Voit (full content)" href="//Andreas-Voit.at/feeds/lazyblorg-all.atom_1.0.links-and-content.xml" />

  <!-- WARNING: This page is written in HTML5 and might not be displayed correctly in old browsers. -->

      <!-- link rel="stylesheet" type="text/css" href="../../../../style.css" / -->
      <title>Altes Android System auf neuem Nexus 5 wiederherstellen</title>

  </head>  <body>

    <div class="common-orgsource"><a href="source.org.txt">&#960;</a></div>


	<header>

	  <nav class="temporal-article-header-nav">
	    <span class="breadcrumbs">
	      <a href="../../../../"><img src="//Andreas-Voit.at/images/blog-voit_logo.svg" alt="Blog von Andreas Voit logo" width="350" style="vertical-align:middle;"></a><span style="padding-top:1em;">&nbsp;&nbsp;&nbsp;&nbsp;&raquo;
	      <a href="../../../">2016</a>&nbsp;&ndash;&nbsp;<a href="../../">11</a>&nbsp;&ndash;&nbsp;<a href="../">06</a></span>
	    </span>
	  </nav>
	  <aside class="common-tags">
	    <ul>
                <li><a class="usertag" href="//Andreas-Voit.at/tags/android/">android</a></li>
                <li><a class="usertag" href="//Andreas-Voit.at/tags/howto/">howto</a></li>
	    </ul>
	  </aside>

	  <h1 class="common-article-header-title">Altes Android System auf neuem Nexus 5 wiederherstellen</h1>

	</header>

  
  <a id="show-sidebar-text" href="#show-sidebar">Show Sidebar</a>
  <div class="sidebar toggle-sidebar">
     <!--<div class="search">
       <iframe id="search-big" src="//duckduckgo.com/search.html?width=140&site=Andreas-Voit.at&prefill=Search%20blog"></iframe>
       <iframe id="search-narrow" src="//duckduckgo.com/search.html?width=70&k1=-1&k2=s&site=Andreas-Voit.at&prefill=Search"></iframe>
       <br/>
     </div>-->
     <ul>
     <li><a href="//Andreas-Voit.at">Recent articles</a></li>
     <li><a href="../../../../about">About this blog</a></li>
     <li><img src="//Andreas-Voit.at/images/feed-icon-14x14.png" alt="RSS icon" />&nbsp;Subscribe to one of my feeds:</li>
         <ul>
         <li><span style="font-size:small"><a href="//Andreas-Voit.at/feeds/lazyblorg-all.atom_1.0.links-only.xml">links only feed</a> (most reliable)</span></li>
         <li><span style="font-size:small"><a href="//Andreas-Voit.at/feeds/lazyblorg-all.atom_1.0.links-and-teaser.xml">article teaser feed</a></span></li>
         <li><span style="font-size:small"><a href="//Andreas-Voit.at/feeds/lazyblorg-all.atom_1.0.links-and-content.xml">full content feed</a></span></li>
         </ul>
     <li><span style="font-size:small"><a href="https://en.wiktionary.org/wiki/TBD">TBD</a>: Per Tag Feeds</span></li>
     <li><span style="font-size:small"><a href="https://en.wiktionary.org/wiki/TBD">TBD</a>: Archive</span></li>
     <li>Top <a href="//Andreas-Voit.at/tags/">tags</a>:</li>
         <ul class="top-tags-list">
              
              <li><a class="usertag" href="//Andreas-Voit.at/tags/android">android</a> (5)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/bike">bike</a> (4)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/lazyblorg">lazyblorg</a> (3)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/howto">howto</a> (2)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/privacy">privacy</a> (2)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/rpi">rpi</a> (2)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/security">security</a> (1)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/glt">glt</a> (1)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/hacks">hacks</a> (1)</li>
              <li><a class="usertag" href="//Andreas-Voit.at/tags/politik">politik</a> (1)</li>
         </ul>
     </ul>
  </div>


  <article class="common-article">

<p>

In den letzen beiden Tagen habe ich mich erneut in das Nexus 5 verliebt. Meine Eltern sind seit kurzer Zeit ebenfalls Nexus 5 Benutzer. Gestern musste leider eines davon eine unsanfte Landung absolvieren, wodurch der Display in Mitleidenschaft gezogen wurde.

</p>

<figure class="image-center">
<img src="signal-2016-11-02-111036%20-%20scaled%20width%20560.jpg" alt="Nexus 5 mit Display Schaden" width="560" />
<figcaption>Nexus 5 mit Display Schaden</figcaption>
</figure>

<p>

Nun gab es zwei Möglichkeiten:

</p>

<p>

A) Display tauschen B) gebrauchtes Nexus 5

</p>

<p>

Den geringsten Aufwand stellte für mich Möglichkeit B dar. Dank meines Bruders haben wir auch schnell über <a href="https://www.willhaben.at/iad">Willhaben</a> ein passendes Angebot gefunden und dieses innerhalb eines Tages abgeholt.

</p>

	  <header><h2 class="section-title">Backup &amp; Restore</h2></header>

<p>

Nun war das alte Nexus 5 noch betriebsbereit, wodurch ich die Möglichkeit hatte ein aktuelles Backup zu erzeugen.

</p>

<p>

Auch hier standen mir zwei Möglichkeiten zur Verfügung:

</p>

<p>

A) <a href="https://play.google.com/store/apps/details?id%3Dcom.keramidas.TitaniumBackup&hl%3Dde">Titanium Backup</a>

</p>

<p>

B) TWRP Backup bzw. nandroid Backup

</p>

<p>

Und wieder habe ich mich für Variante B) entschieden. Für Titanium Backup müsste ich die kostenpflichtige Version kaufen und da ich eh das komplette System wiederherstellen wollte, war aus meiner Sicht dies die einfachste und schnellste Variante. Per "adb pull" konnte ich das Backup auf mein Notebook sichern.

</p>

<p>

Nun ging es dran, das Backup auf das neue Nexus einzuspielen. Nachdem das neue Gerät per "fastboot oem unlock" wieder gerootet habe, konnte ich auch auf diesem TWRP installieren (fastboot flash recovery twrp-3.0.2-0-hammerhead.img). Ich habe danach am neuen Nexus ein Backup durchgeführt, da TWRP die Backups in einen Ordner ablegt, der als Bezeichnung die Seriennummer des Smartphones enthält. Die Backupdateien selbst befinden sich in einem weiteren Unterordner und <a href="http://androidforums.com/threads/verizon-solved-twrp-cannot-find-backup.654751/">TWRP findet Backup-Dateien</a> auch nur unter diesen Ordner. Per adb push habe ich nun vom Notebook das Backup vom alten Nexus auf das neue Nexus übertragen. Nach der Ausführung des Restores und einem Neustart war auf dem neuen Nexus 5 das System wie beim alten Nexus 5.

</p>

	  <header><h2 class="section-title">Die Probleme</h2></header>

<p>

Nach der bisherigen Beschreibung kann man eins zu eins das System auf einem neuen Gerät kopieren, solange man nicht telefonieren oder SMS schreiben will. Denn das Problem ist, dass durch die oben beschriebene Variante der interne EFS-Ordner überschrieben wird. Dieser enthält die Information, welche IMEI-Nummer dem Smartphone zugeordnet ist. Durch das Überschreiben wird entweder eine ungültige IMEI Nummer oder die IMEI Nummer wird auf 0 gesetzt. Das Problem ist nun, ohne IMEI Nummer kann sich das Smartphone nicht ins Mobilefunktnetz einwählen, dadurch sind Anrufe oder SMS nicht möglich.

</p>

	  <header><h2 class="section-title">Lösungsweg</h2></header>

<p>

Meine Recherchen haben ergeben, dass in Einzelfällen ein Überspielen des Systems mit Hilfe eines Factory-Image die alte IMEI Nummer wiederhergestellt hat. Daraufhin habe ich diese <a href="http://www.pocketpc.ch/google-nexus-5-root-und-rom/200110-anleitung-nexus-5-stock-zustand-zuruecksetzen-via-offiziellem-factory-image.html">Anleitung</a> befolgt und das Factory-Image eingespielt. Leider hat dies nicht den gewünschten Erfolg gehabt und die IMEI Nummer war noch immer auf den Wert 0 gesetzt.

</p>

<p>

Als nächstes versuchte ich mit folgender <a href="http://forum.xda-developers.com/showpost.php?p%3D26827676&postcount%3D4512%2522">Anleitung</a> die IMEI Nummer zu reparieren oder wenigstens durch eine Entwickler IMEI Nummer zu ersetzen. Allerdings dürfte sich die Ordner Struktur von Android geändert haben, wodurch ich den EFS-Ordner nicht im root-Verzeichnis finden konnte. Auch nicht auf meinem eigenen Nexus 5, wo der EFS-Ordner korrekt ist und ich eine IMEI Nummer besitze.

</p>

<p>

Schlussendlich bin ich bei folgender <a href="http://android.stackexchange.com/questions/114184/restore-google-nexus-5-imei-that-reads-0">Anleitung</a> gelandet. Dieser Forumbeitrag beschrieb ganz genau mein Problem und ich hatte endlich die Lösung in Händen. Dachte ich mir. Denn in dem Forumbeitrag wird die Lösung anhand eines Windowsprogamms beschrieben. Ich habe bei mir privat allerdings nur Linux im Einsatz, außer einen alten Pentium 4, der mir ab und zu als Spielerechner dient. Zu erst versuchte ich die Windowstools unter WINE auszuführen. Starten konnte ich die Programme schon, aber sie erkannten das Nexus 5 nicht. In weiteren Forumbeiträgen habe ich gelesen, dass auch mit Virtuellen Maschinen das korrekte Ausführen der Programme nicht möglich war. Daher entschloss ich mich, meinen alten Pentium 4 zu reaktivieren. Die beschriebenen Programme waren schnell installiert, allerdings hatte ich mit einer Grundlage starke Probleme: Installation des LG NEXUS 5 Treibers. Nach 5 Stunden gab ich die Installationsversuche schließlich auf. Aus irgendeinem unbekannten Grund konnte mein Windows PC die lokal vorhandenen Treiberdateien für die Installation nicht verwenden.

</p>

	  <header><h2 class="section-title">Wichtigste Erfahrung</h2></header>

<p>

Was ich aus der ganzen Sache gelernt habe? Bevor du was tust, immer ein Backup ziehen! Und, der augenscheinlich schnellste Weg ist nicht immer der mit den geringsten Problemen. Daher werde ich, wenn ich die IMEI Nummer wiederhergestellt habe, sofort ein Backup des EFS-Ordners durchführen.

</p>


  </article>
	  <aside class="published-on">
	    Published on <time datetime="2016-11-06T16:30+01:00">2016-11-06T16:30</time>
	  </aside>

<!--   <p class="email-comment">
      <a href="mailto:comment@andreas-voit.at?subject=2016-11-06-nanobackup%20comment:%20&body=Please%20do%20not%20remove%20'2016-11-06-nanobackup%20comment:'%20in%20subject%20and%20please%20tell%20me%20whether%20or%20not%20it%20is%20OK%20to%20add%20your%20comment%20and%2For%20your%20email%20address%20to%20the%20blog%20entry!">Comment via email</a> or via <a href="//disqus.com">Disqus</a> comments below:
   </p>

    <div id="disqus_thread"></div>
    <div id="disqus_loader" style="text-align: center">
      <button onclick="load_disqus()">Load Disqus Comments</button>
      <script>
        function load_disqus()
        {
          var dsq = document.createElement('script');
          dsq.type = 'text/javascript';
          dsq.async = true;
          dsq.src = "//publicvoit.disqus.com/embed.js";
          var disqus_identifier = '2016-11-06-nanobackup';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          var ldr = document.getElementById('disqus_loader');
          ldr.parentNode.removeChild(ldr);
        }
      </script>
    </div>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">Disqus comments.</a></noscript>
-->
    <footer>
      <p><i><a href="../../../../about">Blog von Andreas Voit</a></i> is authored in <a href="//orgmode.org">Org-mode</a> and generated by <a href="https://github.com/novoid/lazyblorg">lazyblorg</a>

	 	&nbsp;&bull;&nbsp; <a href="//validator.w3.org/check/referer">HTML5</a>

	 	&nbsp;&bull;&nbsp; <a href="//jigsaw.w3.org/css-validator/">CSS3</a>

	 	&nbsp;&bull;&nbsp; <a href="https://web.archive.org/web/*/Andreas-Voit.at/2016/11/06/nanobackup/">Archive</a>
      </p>
    </footer>

  </body>
</html>