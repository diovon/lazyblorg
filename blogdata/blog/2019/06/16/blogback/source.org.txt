* DONE Blog is back oder Wie ich meinen Blog wiederhergestellt habe                                    :blog:lazyblorg:
CLOSED: [2019-06-16 Son 21:30]
:LOGBOOK:
- State "DONE"       from ""           [2019-06-16 Son 21:30]
:END:
:PROPERTIES:
:CREATED:  [2019-06-16 Son 21:30]
:ID: 2019-06-16-blogback
:END:

Wie euch bereits aufgefallen ist, war jetzt sehr lange auf meinem Blog nichts los. Ursache dafür war ein SSD-KartenßCrash auf meinem geliebten Lenovo x260.
Natürlich war der Zeitpunkt meiner letzten Datensicherung schon etwas länger her und enthielt interessanterweise keine Ursprungsdateien von meinem Blog.

So was tun? Erstens dachte ich mir, das wird sicher aufwändig, daher verschiebe ich die ganze Aktion zu einem Zeitpunkt, wo ich einen Kopf dafür habe. Dies war nun heute der Fall :-)

** Ausgangssituation

Da ich meinem Blog auf meinem Webspace nicht überschrieben habe, hatte ich zumindest online meinen allerletzen Datenstand. Des Weiteren habe ich die verwendeten Bilder von einer alten Sicherung.
Somit war nun nur meine Aufgabe meine ursprüngliche Org-Datei wiederherzustellen.
Ich habe mich heute auch entschlossen eine komplett neue Version von lazyblorg vom github-repo meines Bruders herunterzuladen, um die neuesten Features geniesen zu können.

** Wiederherstellung

Glücklicherweise wird zu jedem Blogeintrag die zugehörige ORG-Datei (die dem Inhalt des Blogbeitrages entspricht) ebenfalls bei der Bloggenerierung erstellt. Somit muss ich nur alle Ordner auf meinem Blog durchgehen und die einzelnen ORG-Dateien zu einer gemeinsamen Datei zusammenfügen. Das ich das nicht per Hand machen werde, sollte klar sein. Mit etwas Recherche und Erfahrung mit dem Terminal habe ich mir folgenden Befehl zusammengestellt:

: find . -type f -name '*.org.txt' -exec cat '{}' \; | cat > oldblogfile.org

Erklärung: Damit wird nun in allen Unterverzeichnissen nach den Dateien mit der Endung "*.org.txt" gesucht und diese in die Datei "oldblogfile.org" zusammengefügt.

Das hat im Prinzip funktioniert. Leider musste ich feststellen, dass die ORG-Dateien nicht vollständig waren, dh. es fehlte jeweils die Überschrift und die Tag-Beschriftung.

Dies habe ich dann manuell ergänzt und hatte somit meine ursprünglichen Blogartikel wieder in einer ORG-Datei gesammelt. Danach nur noch die config.py-Datei auf meine Konfiguration angepasst und fertig war mein Blog.

** Vorsichtsmaßnahmen

Damit mir so etwas nicht wieder passiert habe ich nun 2 Dinge geplant.

1. Endlich eine vernünftige Datenbackup-Strategie zu entwerfen und auch zu leben
2. Zusätzlich meinen Blog per syncthing mit meinem NAS zu synchronisieren

** Fazit

Im Grunde war die Angst vor einem großen Aufwand zur Wiederherstellung meines Blogs unbegründet. Da Layzblorg zu jedem Artikel die entsprechende ORG-Datei erstellt, müssen im Grunde nur diese Dateien zusammengefügt werden.


